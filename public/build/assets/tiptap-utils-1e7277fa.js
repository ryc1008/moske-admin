import{N as e}from"./prosemirror-state-aff6b6a5.js";function t(e,t){return t?e.createChecked(null,t):e.createAndFill()}function n(e,n,r,o,s){const c=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach((n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t}(e),a=[],i=[];for(let f=0;f<r;f+=1){const e=t(c.cell,s);if(e&&i.push(e),o){const e=t(c.header_cell,s);e&&a.push(e)}}const d=[];for(let t=0;t<n;t+=1)d.push(c.row.createChecked(null,o&&0===t?a:i));return c.table.createChecked(null,d)}function r(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function o(t){return function(n){if(function(t){return t instanceof e}(n)){const{node:e}=n,{$from:r}=n;if(function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e}(t,e))return{node:e,pos:r.pos,depth:r.depth}}}}function s(e,t){const{from:n,to:r}=e.selection;let o=[];e.doc.nodesBetween(n,r,(e=>{o=[...o,...e.marks]}));const s=o.find((e=>e.type.name===t.name));return s?s.attrs:{}}function c(e=null,t=null){if(!e||!t)return!1;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;const r=n.node.marks.find((e=>e.type===t));if(!r)return!1;let o=e.index(),s=e.start()+n.offset,c=o+1,a=s+n.node.nodeSize;for(;o>0&&r.isInSet(e.parent.child(o-1).marks);)o-=1,s-=e.parent.child(o).nodeSize;for(;c<e.parent.childCount&&r.isInSet(e.parent.child(c).marks);)a+=e.parent.child(c).nodeSize,c+=1;return{from:s,to:a}}function a(e,t){const{from:n,to:r}=e.selection;let o=[];e.doc.nodesBetween(n,r,(e=>{o=[...o,e]}));const s=o.reverse().find((e=>e.type.name===t.name));return s?s.attrs:{}}function i(e,t){const{from:n,$from:r,to:o,empty:s}=e.selection;return s?!!t.isInSet(e.storedMarks||r.marks()):!!e.doc.rangeHasMark(n,o,t)}function d({types:e,node:t}){return Array.isArray(e)&&e.includes(t.type)||t.type===e}function f(e,t,n={}){const s=o(t)(e.selection)||r((e=>e.type===t))(e.selection);return Object.keys(n).length&&s?s.node.hasMarkup(t,{...s.node.attrs,...n}):!!s}export{a,c as b,n as c,d,r as f,s as g,i as m,f as n};
