import{g as t}from"./async-validator-68c927eb.js";import{k as e,b as r}from"./w3c-keyname-5afe5a41.js";import{P as n}from"./prosemirror-state-aff6b6a5.js";const i="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function o(t){let e,r,n,o,a=t.split(/-(?!$)/),l=a[a.length-1];"Space"==l&&(l=" ");for(let s=0;s<a.length-1;s++){let t=a[s];if(/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))e=!0;else if(/^(c|ctrl|control)$/i.test(t))r=!0;else if(/^s(hift)?$/i.test(t))n=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);i?o=!0:r=!0}}return e&&(l="Alt-"+l),r&&(l="Ctrl-"+l),o&&(l="Meta-"+l),n&&(l="Shift-"+l),l}function a(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function l(t){return new n({props:{handleKeyDown:s(t)}})}function s(t){let n=function(t){let e=Object.create(null);for(let r in t)e[o(r)]=t[r];return e}(t);return function(t,i){let o,l=e(i),s=n[a(l,i)];if(s&&s(t.state,t.dispatch,t))return!0;if(1==l.length&&" "!=l){if(i.shiftKey){let e=n[a(l,i,!1)];if(e&&e(t.state,t.dispatch,t))return!0}if((i.shiftKey||i.altKey||i.metaKey||l.charCodeAt(0)>127)&&(o=r[i.keyCode])&&o!=l){let e=n[a(o,i)];if(e&&e(t.state,t.dispatch,t))return!0}}return!1}}const f=t(Object.freeze(Object.defineProperty({__proto__:null,keydownHandler:s,keymap:l},Symbol.toStringTag,{value:"Module"})));export{l as a,s as k,f as r};
