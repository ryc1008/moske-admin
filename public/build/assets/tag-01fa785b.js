import{k as t,l as s,m as r}from"./app-64dc16a0.js";import{n as i}from"./vue-verify-code-21b6e9ae.js";import"./w-e6fba1f3.js";import"./axios-5ae1da96.js";import"./vue-9f7ddc78.js";import"./async-validator-68c927eb.js";import"./babel-runtime-b0e6bb14.js";import"./crypto-js-e93d4fbc.js";import"./element-tiptap-f39d3908.js";import"./tiptap-cd99e86f.js";import"./prosemirror-state-aff6b6a5.js";import"./prosemirror-model-e99bf1dc.js";import"./orderedmap-1ac72264.js";import"./prosemirror-transform-0ba15ba3.js";import"./prosemirror-view-e30b2d7a.js";import"./prosemirror-dropcursor-41f27ba8.js";import"./prosemirror-gapcursor-8cdc000d.js";import"./prosemirror-keymap-e0a1e6d1.js";import"./w3c-keyname-5afe5a41.js";import"./prosemirror-commands-994280f1.js";import"./prosemirror-inputrules-51b7290b.js";import"./tiptap-utils-1e7277fa.js";import"./tiptap-extensions-b74a4f9a.js";import"./tiptap-commands-9e395e16.js";import"./prosemirror-schema-list-a2d0a333.js";import"./highlight.js-45c9f23d.js";import"./fault-4bc10d66.js";import"./format-ca30c10a.js";import"./prosemirror-history-094ab62a.js";import"./rope-sequence-72d4f3ff.js";import"./prosemirror-utils-15148092.js";import"./prosemirror-tables-78b83e4c.js";import"./element-ui-85fcec33.js";import"./resize-observer-polyfill-26170312.js";import"./throttle-debounce-f2d3495b.js";import"./babel-helper-vue-jsx-merge-props-ae7f6986.js";import"./normalize-wheel-2c441d7d.js";import"./deepmerge-1c41bee1.js";import"./vuex-fb1740e5.js";import"./image-conversion-5dc521cd.js";import"./nprogress-e46a079b.js";import"./vue-cookie-f9b70f6c.js";import"./tiny-cookie-01c919d1.js";import"./moment-0b360bb8.js";/* empty css                     */import"./xgplayer-ddb6d22b.js";import"./eventemitter3-91a3dd57.js";import"./delegate-333e72eb.js";import"./downloadjs-bf7647fe.js";import"./xgplayer-hls-e482b1c5.js";import"./xgplayer-streaming-shared-a05e1a43.js";import"./xgplayer-transmuxer-2825904a.js";import"./xgplayer-music-47c62e3d.js";import"./vue-router-29840f2f.js";import"./vue-axios-5ff5ffea.js";import"./qs-7cd75b61.js";import"./side-channel-c3af32fe.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./call-bind-fae29077.js";import"./object-inspect-d5fba9a3.js";const e=i({data:()=>({datas:null,params:{kwd:""},button:{loading:!1,disable:!1,text:"提 交"},dialog:{title:"",show:!1},form:null,rules:{name:[{validator:(t,s,r)=>{s.trim()||r(new Error("请填写标签名称")),r()},trigger:"blur"}]}}),activated(){this.list()},methods:{async list(){await this.$func.verify("tag.list"),t(this.params).then((t=>{t.status?this.$func.error(t.message):this.datas=t.data}))},async create(){await this.$func.verify("tag.update"),this.form={name:""},this.dialog.title="新增标签",this.dialog.show=!0,this.$nextTick((()=>{this.$refs.form.clearValidate()}))},update(){this.$refs.form.validate((t=>{t&&(this.button.disabled=!0,this.button.loading=!0,this.button.text="提交中...",s(this.form).then((t=>{t.status?this.$func.error(t.message):this.$func.success(t.message).then((()=>{this.dialog.show=!1,this.list()})),this.button.disabled=!1,this.button.loading=!1,this.button.text="提 交"})).catch((t=>{this.button.disabled=!1,this.button.loading=!1,this.button.text="提 交"})))}))},async destroy(t){await this.$func.verify("tag.destroy"),this.$confirm("您确定要删除选中的该条信息吗？","提示",{type:"warning",confirmButtonText:"确 定",cancelButtonText:"取 消"}).then((()=>{r({id:t}).then((t=>{t.status?this.$func.error(t.message):this.list()}))})).catch((()=>{}))},search(){this.list()}}},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"board-content"},[s("div",{staticClass:"board-header"},[s("div",{staticClass:"board-search"},[s("div",{staticClass:"search-item"},[s("el-input",{attrs:{placeholder:"请输入标签名称",size:"small",clearable:""},model:{value:t.params.kwd,callback:function(s){t.$set(t.params,"kwd",s)},expression:"params.kwd"}})],1),s("div",{staticClass:"search-item"},[s("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:function(s){return t.search()}}},[t._v("搜索")])],1)]),s("div",{staticClass:"board-handle"},[s("el-button",{attrs:{type:"warning",icon:"fa fa-refresh",size:"small"},on:{click:function(s){return t.list()}}},[t._v(" 刷新")]),s("el-button",{attrs:{type:"primary",icon:"fa fa-plus",size:"small"},on:{click:function(s){return t.create()}}},[t._v(" 新增")])],1)]),s("div",{staticClass:"board-main",staticStyle:{"max-height":"calc(100vh - 250px)",height:"calc(100vh - 207px)","overflow-y":"auto"}},t._l(t.datas,(function(r){return s("el-tag",{key:r.id,staticClass:"tag",attrs:{closable:""},on:{close:function(s){return t.destroy(r.id)}}},[t._v(t._s(r.name))])})),1),s("el-dialog",{staticClass:"board-dialog",attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,title:t.dialog.title,visible:t.dialog.show,center:""},on:{"update:visible":function(s){return t.$set(t.dialog,"show",s)}}},[t.form?s("el-form",{ref:"form",staticClass:"board-form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[s("div",{staticClass:"item-title"},[t._v("基本信息"),s("div",{staticClass:"title-note"},[s("span",[t._v("* ")]),t._v("为必填项")])]),s("div",{staticClass:"form-item"},[s("el-form-item",{attrs:{label:"名 称：",prop:"name",required:""}},[s("el-input",{attrs:{type:"textarea",rows:"8",placeholder:"请填写名称，多个名称一行一个"},model:{value:t.form.name,callback:function(s){t.$set(t.form,"name",s)},expression:"form.name"}})],1)],1)]):t._e(),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary",loading:t.button.loading,disabled:t.button.disable},on:{click:t.update}},[t._v(t._s(t.button.text))]),s("el-button",{staticClass:"close-btn",on:{click:function(s){t.dialog.show=!1}}},[t._v("关 闭")])],1)],1)],1)}),[],!1,null,"d9db1d13",null,null).exports;export{e as default};
