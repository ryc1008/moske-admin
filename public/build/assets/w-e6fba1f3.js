import{a as e}from"./axios-5ae1da96.js";import{n as t}from"./vue-verify-code-21b6e9ae.js";import{V as a}from"./vue-9f7ddc78.js";import{C as n}from"./crypto-js-e93d4fbc.js";import{l as s,k as r,S as o,F as i,Z as l,a as p,O as c,E as u,C as d,L as m,Y as f,X as g,t as h,e as w,n as v,p as b,f as _,c as L,b as j,m as U,r as y,_ as x,i as R,N as C,D as k,h as E,Q as S,d as $}from"./element-tiptap-f39d3908.js";import{m as A}from"./vuex-fb1740e5.js";import{i as B}from"./image-conversion-5dc521cd.js";import{T as D}from"./tiptap-cd99e86f.js";import{i as O,j as P,k as q,l as M,m as N}from"./tiptap-extensions-b74a4f9a.js";window.axios=e,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const T=t({},(function(){return(0,this._self._c)("router-view")}),[],!1,null,null,null,null).exports,z=new a,V="moske66889966988",X="moske88668899688";let J={decrypt(e){let t=n.enc.Latin1.parse(V),a=n.enc.Latin1.parse(X),s=n.AES.decrypt(e,t,{iv:a,mode:n.mode.CBC,padding:n.pad.Pkcs7});return JSON.parse(s.toString(n.enc.Utf8))},encrypt(e){let t=n.enc.Latin1.parse(V),a=n.enc.Latin1.parse(X);return n.AES.encrypt(JSON.stringify(e),t,{iv:a,mode:n.mode.CBC,padding:n.pad.ZeroPadding}).toString()}};const W=t({name:"pagination",props:{datas:{type:Object,value:null}},created(){},methods:{page(e){this.$emit("page",e)}}},(function(){var e=this,t=e._self._c;return e.datas?t("div",{staticClass:"board-pagination"},[t("div",{staticClass:"board-record"},[e._v("总共 "),t("em",[e._v(" "+e._s(e.datas?e.datas.total:0)+" ")]),e._v(" 条记录")]),t("el-pagination",{attrs:{total:e.datas.total,"page-size":e.datas.per_page,layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":e.datas.current_page},on:{"current-change":e.page}})],1):e._e()}),[],!1,null,null,null,null).exports,Z={install:function(e){e.component("pagination",W)}};const F=t({name:"custom_image",computed:{...A({upload:e=>e.upload})},data:function(){return{dialog:{title:"上传本地图片",show:!1},visible:!1}},methods:{openDialog(e){this.visible=!1,e?this.dialog.show=!0:this.$prompt("","插入网络图片",{confirmButtonText:"插入",cancelButtonText:"取消",closeOnClickModal:!1,customClass:"insert-img",inputType:"textarea",inputPlaceholder:"输入网络图片链接,多个链接一行一个",beforeClose:(e,t,a)=>{if("confirm"==e){let e=t._data.inputValue.trim();if(!e)return this.$func.error("请输入网络图片链接");let n=e.split("\n"),s="";if(n.filter((e=>{this.$func.isImage(e)||(s=e)})),s)return this.$func.error('"'+s+'"格式错误');a()}else a()}}).then((({value:e})=>{e.trim().split("\n").forEach((e=>{e&&this.$emit("insert",e)}))})).catch((()=>{}))},uploadSuccess(e,t){e.status?this.$func.error(e.message):(this.dialog.show=!1,this.$emit("insert",e.data))},async uploadBefore(e){return e.size/1024/1024<2?await B.compressAccurately(e,100):(this.$func.error("上传的图片不能大于2M"),!1)},closeDialog(){this.dialog.show=!1}}},(function(){var e=this,t=e._self._c;return t("div",[t("el-tooltip",{attrs:{effect:"dark",content:"插入图片",placement:"top"}},[t("el-popover",{attrs:{placement:"bottom",trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"upload-type",on:{click:function(t){return e.openDialog(!1)}}},[e._v("插入网络图片")]),t("div",{staticClass:"upload-type",on:{click:function(t){return e.openDialog(!0)}}},[e._v("上传本地图片")]),t("div",{staticClass:"el-tooltip el-tiptap-editor__command-button el-popover__reference",attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"el-icon-picture"})])])],1),t("el-dialog",{staticClass:"board-dialog image-dialog",attrs:{"append-to-body":"","close-on-press-escape":!1,"close-on-click-modal":!1,modal:!0,title:e.dialog.title,visible:e.dialog.show,center:""},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)},close:e.closeDialog}},[t("el-upload",{attrs:{name:"image",accept:"image/*",drag:"",multiple:"",action:e.upload,"show-file-list":!1,"on-success":e.uploadSuccess,"before-upload":e.uploadBefore}},[t("div",{staticClass:"cimage-upload"},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),t("em",[e._v("点击上传")])])])])],1)],1)}),[],!1,null,null,null,null).exports;class H extends s{get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]}}menuBtnView({isActive:e,commands:t,focus:a,editor:n}){return{component:F,componentProps:{width:""},componentEvents:{insert:(e="")=>{t.image({src:e})}}}}}const I=t({name:"editor",components:{"el-tiptap":r},model:{prop:"content",event:"input"},props:{content:{type:String,value:""},output:{type:String,value:"html"},height:{type:Number,value:550}},data:function(){return{extensions:[new o,new D,new i,new l({level:5}),new p({bubble:!0}),new c,new u,new d,new m,new H,new f,new g,new h,new w,new v,new b,new _,new L,new j,new U,new y,new O,new P,new x,new q,new M,new N,new R,new C,new k,new E,new S,new $]}},methods:{onEditorUpdate(e){this.$emit("input",e)}}},(function(){var e=this;return(0,e._self._c)("el-tiptap",{attrs:{content:e.content,lang:"zh",output:e.output,extensions:e.extensions,height:e.height,placeholder:"请输入内容"},on:{onUpdate:e.onEditorUpdate}})}),[],!1,null,null,null,null).exports,Q={install:function(e){e.component("editor",I)}},Y={},G=function(e,t,a){if(!t||0===t.length)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if(e=function(e,t){return new URL(e,t).href}(e,a),e in Y)return;Y[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(!!a)for(let a=n.length-1;a>=0;a--){const s=n[a];if(s.href===e&&(!t||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((t,a)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},K=""+new URL("404-29f94202.png",import.meta.url).href,ee=""+new URL("a-b75bbad2.png",import.meta.url).href,te=""+new URL("android-e413faca.png",import.meta.url).href,ae=""+new URL("a0-f28f7f73.jpg",import.meta.url).href,ne=""+new URL("a1-0966e692.jpg",import.meta.url).href,se=""+new URL("a2-71d41a03.jpg",import.meta.url).href,re=""+new URL("a3-7d27d461.jpg",import.meta.url).href,oe=""+new URL("a4-80e9037b.jpg",import.meta.url).href,ie=""+new URL("a5-a7232295.jpg",import.meta.url).href,le=""+new URL("a6-301801db.jpg",import.meta.url).href,pe=""+new URL("a7-efb19c1b.jpg",import.meta.url).href,ce=""+new URL("a8-094f4c15.jpg",import.meta.url).href,ue=""+new URL("a9-5396cbb2.jpg",import.meta.url).href,de=""+new URL("c-c08a7ec8.png",import.meta.url).href,me=""+new URL("code-79da654f.png",import.meta.url).href,fe=""+new URL("ios-d4d6fb1d.png",import.meta.url).href,ge=""+new URL("login-abc323c8.jpeg",import.meta.url).href,he=""+new URL("qidai-6be35742.png",import.meta.url).href,we=""+new URL("w-e5557e76.png",import.meta.url).href;export{T as A,z as B,G as _,K as a,ee as b,te as c,ae as d,ne as e,se as f,re as g,oe as h,ie as i,le as j,pe as k,ce as l,ue as m,de as n,me as o,fe as p,ge as q,he as r,we as s,Z as t,Q as u,J as v};
