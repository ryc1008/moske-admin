import{_ as t,a as e,b as r,c as o,d as s,e as a,f as i,g as m,h as p,i as n,j as c,k as u,l,m as g,n as j,o as _,p as h,q as d,r as f,s as E,t as b,u as v,v as y,B as w,A as T}from"./w-93ed8244.js";import{V as O}from"./vue-9f7ddc78.js";import{N as L}from"./nprogress-e46a079b.js";import{V as R}from"./vue-cookie-f9b70f6c.js";import{e as S,E as P}from"./element-ui-85fcec33.js";import{h as A}from"./moment-0b360bb8.js";/* empty css                     */import{V}from"./vue-router-29840f2f.js";import{V as k}from"./vuex-fb1740e5.js";import{a as I}from"./axios-5ae1da96.js";import{V as D}from"./vue-axios-5ff5ffea.js";import{Q as $}from"./qs-7cd75b61.js";import"./vue-verify-code-21b6e9ae.js";import"./crypto-js-e93d4fbc.js";import"./async-validator-68c927eb.js";import"./babel-runtime-b0e6bb14.js";import"./element-tiptap-b238b364.js";import"./tiptap-7d2e9357.js";import"./prosemirror-state-425d0e8b.js";import"./prosemirror-model-e99bf1dc.js";import"./orderedmap-1ac72264.js";import"./prosemirror-transform-0ba15ba3.js";import"./prosemirror-view-0d94a9de.js";import"./prosemirror-dropcursor-b97670e4.js";import"./prosemirror-gapcursor-f217a1b8.js";import"./prosemirror-keymap-f0b73aa1.js";import"./w3c-keyname-5afe5a41.js";import"./prosemirror-commands-5439721d.js";import"./prosemirror-inputrules-f48e44a0.js";import"./tiptap-utils-dfe96f8c.js";import"./tiptap-extensions-6ea7e3b6.js";import"./tiptap-commands-ff2c84fd.js";import"./prosemirror-schema-list-cb4e861d.js";import"./highlight.js-45c9f23d.js";import"./fault-4bc10d66.js";import"./format-ca30c10a.js";import"./prosemirror-tables-fdb699ea.js";import"./prosemirror-history-237c0715.js";import"./rope-sequence-72d4f3ff.js";import"./prosemirror-utils-3bb18dfc.js";import"./image-conversion-5dc521cd.js";import"./tiny-cookie-01c919d1.js";import"./resize-observer-polyfill-26170312.js";import"./throttle-debounce-f2d3495b.js";import"./babel-helper-vue-jsx-merge-props-ae7f6986.js";import"./normalize-wheel-2c441d7d.js";import"./deepmerge-1c41bee1.js";import"./side-channel-c3af32fe.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./call-bind-fae29077.js";import"./object-inspect-d5fba9a3.js";O.use(V);const N=V.prototype.push;V.prototype.push=function(t){return N.call(this,t).catch((t=>t))};const U=new V({mode:"history",base:"/canal",routes:[{path:"/",name:"agent_login",component:()=>t((()=>import("./login-eee74526.js")),["./login-eee74526.js","./vue-verify-code-21b6e9ae.js","./w-93ed8244.js","./axios-5ae1da96.js","./vue-9f7ddc78.js","./async-validator-68c927eb.js","./babel-runtime-b0e6bb14.js","./crypto-js-e93d4fbc.js","./element-tiptap-b238b364.js","./tiptap-7d2e9357.js","./prosemirror-state-425d0e8b.js","./prosemirror-model-e99bf1dc.js","./orderedmap-1ac72264.js","./prosemirror-transform-0ba15ba3.js","./prosemirror-view-0d94a9de.js","./prosemirror-dropcursor-b97670e4.js","./prosemirror-gapcursor-f217a1b8.js","./prosemirror-keymap-f0b73aa1.js","./w3c-keyname-5afe5a41.js","./prosemirror-commands-5439721d.js","./prosemirror-inputrules-f48e44a0.js","./tiptap-utils-dfe96f8c.js","./tiptap-extensions-6ea7e3b6.js","./tiptap-commands-ff2c84fd.js","./prosemirror-schema-list-cb4e861d.js","./highlight.js-45c9f23d.js","./fault-4bc10d66.js","./format-ca30c10a.js","./prosemirror-tables-fdb699ea.js","./prosemirror-history-237c0715.js","./rope-sequence-72d4f3ff.js","./prosemirror-utils-3bb18dfc.js","./element-ui-85fcec33.js","./resize-observer-polyfill-26170312.js","./throttle-debounce-f2d3495b.js","./babel-helper-vue-jsx-merge-props-ae7f6986.js","./normalize-wheel-2c441d7d.js","./deepmerge-1c41bee1.js","./element-ui-375e0433.css","./element-tiptap-77b6ec12.css","./vuex-fb1740e5.js","./image-conversion-5dc521cd.js","./w-77877a5e.css","./nprogress-e46a079b.js","./nprogress-771398e6.css","./vue-cookie-f9b70f6c.js","./tiny-cookie-01c919d1.js","./moment-0b360bb8.js","./vue-router-29840f2f.js","./vue-axios-5ff5ffea.js","./qs-7cd75b61.js","./side-channel-c3af32fe.js","./get-intrinsic-bac01933.js","./has-symbols-456daba2.js","./has-proto-4a87f140.js","./function-bind-72d06d3b.js","./has-885c3436.js","./call-bind-fae29077.js","./object-inspect-d5fba9a3.js","./login-a478bf62.css","./font-awesome-e94916db.css"],import.meta.url),meta:{title:"登录注册",login:!0}},{path:"/authorize",name:"agent_authorize",component:()=>t((()=>import("./authorize-8f10be91.js")),["./authorize-8f10be91.js","./vue-verify-code-21b6e9ae.js","./w-93ed8244.js","./axios-5ae1da96.js","./vue-9f7ddc78.js","./async-validator-68c927eb.js","./babel-runtime-b0e6bb14.js","./crypto-js-e93d4fbc.js","./element-tiptap-b238b364.js","./tiptap-7d2e9357.js","./prosemirror-state-425d0e8b.js","./prosemirror-model-e99bf1dc.js","./orderedmap-1ac72264.js","./prosemirror-transform-0ba15ba3.js","./prosemirror-view-0d94a9de.js","./prosemirror-dropcursor-b97670e4.js","./prosemirror-gapcursor-f217a1b8.js","./prosemirror-keymap-f0b73aa1.js","./w3c-keyname-5afe5a41.js","./prosemirror-commands-5439721d.js","./prosemirror-inputrules-f48e44a0.js","./tiptap-utils-dfe96f8c.js","./tiptap-extensions-6ea7e3b6.js","./tiptap-commands-ff2c84fd.js","./prosemirror-schema-list-cb4e861d.js","./highlight.js-45c9f23d.js","./fault-4bc10d66.js","./format-ca30c10a.js","./prosemirror-tables-fdb699ea.js","./prosemirror-history-237c0715.js","./rope-sequence-72d4f3ff.js","./prosemirror-utils-3bb18dfc.js","./element-ui-85fcec33.js","./resize-observer-polyfill-26170312.js","./throttle-debounce-f2d3495b.js","./babel-helper-vue-jsx-merge-props-ae7f6986.js","./normalize-wheel-2c441d7d.js","./deepmerge-1c41bee1.js","./element-ui-375e0433.css","./element-tiptap-77b6ec12.css","./vuex-fb1740e5.js","./image-conversion-5dc521cd.js","./w-77877a5e.css","./nprogress-e46a079b.js","./nprogress-771398e6.css","./vue-cookie-f9b70f6c.js","./tiny-cookie-01c919d1.js","./moment-0b360bb8.js","./vue-router-29840f2f.js","./vue-axios-5ff5ffea.js","./qs-7cd75b61.js","./side-channel-c3af32fe.js","./get-intrinsic-bac01933.js","./has-symbols-456daba2.js","./has-proto-4a87f140.js","./function-bind-72d06d3b.js","./has-885c3436.js","./call-bind-fae29077.js","./object-inspect-d5fba9a3.js","./authorize-237bfc7a.css","./font-awesome-e94916db.css"],import.meta.url),meta:{title:"授权登录"}},{path:"/main",component:()=>t((()=>import("./layout-748e9c57.js")),["./layout-748e9c57.js","./vuex-fb1740e5.js","./vue-verify-code-21b6e9ae.js"],import.meta.url),children:[{path:"/main",name:"agent_main",component:()=>t((()=>import("./main-1bc2747c.js")),["./main-1bc2747c.js","./vue-verify-code-21b6e9ae.js","./main-537429a6.css"],import.meta.url),meta:{title:"我的首页"}},{path:"/flow",name:"agent_flow",component:()=>t((()=>import("./flow-deb298d6.js")),["./flow-deb298d6.js","./vue-verify-code-21b6e9ae.js","./flow-2f5f840b.css"],import.meta.url),meta:{title:"我的报表"}},{path:"/trade",name:"agent_trade",component:()=>t((()=>import("./trade-a18798f4.js")),["./trade-a18798f4.js","./vue-verify-code-21b6e9ae.js","./trade-47e1dc9c.css"],import.meta.url),meta:{title:"我的结算"}},{path:"/route",name:"agent_route",component:()=>t((()=>import("./route-be61ef35.js")),["./route-be61ef35.js","./vue-verify-code-21b6e9ae.js","./route-373ee46c.css"],import.meta.url),meta:{title:"渠道管理"}},{path:"/info",name:"agent_info",component:()=>t((()=>import("./info-ddaf939c.js")),["./info-ddaf939c.js","./vuex-fb1740e5.js","./vue-verify-code-21b6e9ae.js","./w-93ed8244.js","./axios-5ae1da96.js","./vue-9f7ddc78.js","./async-validator-68c927eb.js","./babel-runtime-b0e6bb14.js","./crypto-js-e93d4fbc.js","./element-tiptap-b238b364.js","./tiptap-7d2e9357.js","./prosemirror-state-425d0e8b.js","./prosemirror-model-e99bf1dc.js","./orderedmap-1ac72264.js","./prosemirror-transform-0ba15ba3.js","./prosemirror-view-0d94a9de.js","./prosemirror-dropcursor-b97670e4.js","./prosemirror-gapcursor-f217a1b8.js","./prosemirror-keymap-f0b73aa1.js","./w3c-keyname-5afe5a41.js","./prosemirror-commands-5439721d.js","./prosemirror-inputrules-f48e44a0.js","./tiptap-utils-dfe96f8c.js","./tiptap-extensions-6ea7e3b6.js","./tiptap-commands-ff2c84fd.js","./prosemirror-schema-list-cb4e861d.js","./highlight.js-45c9f23d.js","./fault-4bc10d66.js","./format-ca30c10a.js","./prosemirror-tables-fdb699ea.js","./prosemirror-history-237c0715.js","./rope-sequence-72d4f3ff.js","./prosemirror-utils-3bb18dfc.js","./element-ui-85fcec33.js","./resize-observer-polyfill-26170312.js","./throttle-debounce-f2d3495b.js","./babel-helper-vue-jsx-merge-props-ae7f6986.js","./normalize-wheel-2c441d7d.js","./deepmerge-1c41bee1.js","./element-ui-375e0433.css","./element-tiptap-77b6ec12.css","./image-conversion-5dc521cd.js","./w-77877a5e.css","./nprogress-e46a079b.js","./nprogress-771398e6.css","./vue-cookie-f9b70f6c.js","./tiny-cookie-01c919d1.js","./moment-0b360bb8.js","./vue-router-29840f2f.js","./vue-axios-5ff5ffea.js","./qs-7cd75b61.js","./side-channel-c3af32fe.js","./get-intrinsic-bac01933.js","./has-symbols-456daba2.js","./has-proto-4a87f140.js","./function-bind-72d06d3b.js","./has-885c3436.js","./call-bind-fae29077.js","./object-inspect-d5fba9a3.js","./info-ae580910.css","./font-awesome-e94916db.css"],import.meta.url),meta:{title:"我的资料"}},{path:"/password",name:"agent_password",component:()=>t((()=>import("./password-73975f51.js")),["./password-73975f51.js","./vuex-fb1740e5.js","./vue-verify-code-21b6e9ae.js","./w-93ed8244.js","./axios-5ae1da96.js","./vue-9f7ddc78.js","./async-validator-68c927eb.js","./babel-runtime-b0e6bb14.js","./crypto-js-e93d4fbc.js","./element-tiptap-b238b364.js","./tiptap-7d2e9357.js","./prosemirror-state-425d0e8b.js","./prosemirror-model-e99bf1dc.js","./orderedmap-1ac72264.js","./prosemirror-transform-0ba15ba3.js","./prosemirror-view-0d94a9de.js","./prosemirror-dropcursor-b97670e4.js","./prosemirror-gapcursor-f217a1b8.js","./prosemirror-keymap-f0b73aa1.js","./w3c-keyname-5afe5a41.js","./prosemirror-commands-5439721d.js","./prosemirror-inputrules-f48e44a0.js","./tiptap-utils-dfe96f8c.js","./tiptap-extensions-6ea7e3b6.js","./tiptap-commands-ff2c84fd.js","./prosemirror-schema-list-cb4e861d.js","./highlight.js-45c9f23d.js","./fault-4bc10d66.js","./format-ca30c10a.js","./prosemirror-tables-fdb699ea.js","./prosemirror-history-237c0715.js","./rope-sequence-72d4f3ff.js","./prosemirror-utils-3bb18dfc.js","./element-ui-85fcec33.js","./resize-observer-polyfill-26170312.js","./throttle-debounce-f2d3495b.js","./babel-helper-vue-jsx-merge-props-ae7f6986.js","./normalize-wheel-2c441d7d.js","./deepmerge-1c41bee1.js","./element-ui-375e0433.css","./element-tiptap-77b6ec12.css","./image-conversion-5dc521cd.js","./w-77877a5e.css","./nprogress-e46a079b.js","./nprogress-771398e6.css","./vue-cookie-f9b70f6c.js","./tiny-cookie-01c919d1.js","./moment-0b360bb8.js","./vue-router-29840f2f.js","./vue-axios-5ff5ffea.js","./qs-7cd75b61.js","./side-channel-c3af32fe.js","./get-intrinsic-bac01933.js","./has-symbols-456daba2.js","./has-proto-4a87f140.js","./function-bind-72d06d3b.js","./has-885c3436.js","./call-bind-fae29077.js","./object-inspect-d5fba9a3.js","./password-1083fbac.css","./font-awesome-e94916db.css"],import.meta.url),meta:{title:"修改密码"}},{path:"/error",name:"agent_error",component:()=>t((()=>import("./404-8de6f51c.js")),["./404-8de6f51c.js","./vue-verify-code-21b6e9ae.js","./404-4124e4b3.css"],import.meta.url),meta:{title:"错误异常"}}]},{path:"*",redirect:"/error"}]});O.use(D,I),I.interceptors.request.use((function(t){t.headers.Accept="application/json";const e=JSON.parse(R.get("agent:token"));return e&&(t.headers.Authorization="Bearer "+e),t}),(function(t){return Promise.reject(t)})),I.interceptors.response.use((function(t){return t.data}),(function(t){if(401===t.response.status)Y.dispatch("userLogout").then((()=>{S.Notification.error({title:"错误",duration:"1500",message:"登录信息已过期，正在退出...",onClose:()=>U.push({name:"login"})})}));else S.Notification.error({title:"错误",duration:"1500",message:t.response.data.message+"，网络状态："+t.response.status})}));let x="/agent";const z=t=>I.post(`${x}/login`,$.stringify(t)).then((t=>t)),q=t=>I.post(`${x}/authorize`,$.stringify(t)).then((t=>t)),C=t=>I.post(`${x}/user/update`,$.stringify(t)).then((t=>t)),G=t=>I.post(`${x}/user/password`,$.stringify(t)).then((t=>t));O.use(k);const Y=new k.Store({state:{active:"",isCollapse:!1,title:"",routers:[],rules:[],breadcrumb:[],tableHeight:"calc(100vh - 287px)",user:null,upload:"/api/upload/image/",upload_file:"/api/upload/file/"},mutations:{SET_STATE(t,e){t=Object.assign(t,e)},USER_LOGIN(t,e){R.set("agent:token",JSON.stringify(e.token),{expires:e.expires_in+"s"})},USER_LOGOUT(){R.delete("agent:token")}},actions:{setState({commit:t},e){t("SET_STATE",e)},userLogin:({commit:t},e)=>new Promise((r=>{t("USER_LOGIN",e),r()})),userLogout:({commit:t})=>new Promise((e=>{t("USER_LOGOUT"),e()})),generateRoutes:({commit:t})=>new Promise((e=>{var r;I.get(`${x}/user`,{params:r}).then((t=>t)).then((r=>{0==r.status&&(t("SET_STATE",{user:r.data.user}),e())})).catch((t=>{console.log(t)}))}))}}),B={error:t=>new Promise((e=>{S.Notification.error({title:"错误",duration:"1500",message:t,onClose:()=>{e()}})})),success:t=>new Promise((e=>{S.Notification({title:"成功",message:t,type:"success",duration:"1500",onClose:()=>{e()}})})),formatTag(t){let e="";switch(t){case 1:e="primary";break;case 2:e="danger";break;case 3:e="success";break;case 4:e="warning";break;default:e="info"}return e},formatNumber(t){let e=0;return e=t>=1e4?t/1e4+"万":t,e},formatDateTime:(t,e)=>(e=e||"YYYY-MM-DD HH:mm:ss",A(t).format(e)),assetsFile:t=>new URL(Object.assign({"../static/img/404.png":e,"../static/img/a.png":r,"../static/img/android.png":o,"../static/img/avatar/a0.jpg":s,"../static/img/avatar/a1.jpg":a,"../static/img/avatar/a2.jpg":i,"../static/img/avatar/a3.jpg":m,"../static/img/avatar/a4.jpg":p,"../static/img/avatar/a5.jpg":n,"../static/img/avatar/a6.jpg":c,"../static/img/avatar/a7.jpg":u,"../static/img/avatar/a8.jpg":l,"../static/img/avatar/a9.jpg":g,"../static/img/c.png":j,"../static/img/code.png":_,"../static/img/ios.png":h,"../static/img/login.jpeg":d,"../static/img/qidai.png":f,"../static/img/w.png":E})[`../static/img/${t}`],self.location).href,strToBlank(t){let e=encodeURI(t);return e=e.replace(/&nbsp;/g,"%20"),decodeURI(e)}};O.use(P),O.use(R),O.use(b),O.use(v),O.prototype.$store=Y,O.prototype.$moment=A,O.prototype.$crypto=y,O.prototype.$bus=w,O.prototype.$func=B,U.beforeEach(((t,e,r)=>{L.start(),t.meta.title&&(document.title=t.meta.title+"-渠道系统");const o=[];if(t.matched.forEach((t=>{t.meta.title&&o.push({title:t.meta.title})})),Y.dispatch("setState",{active:t.path,title:t.meta.title,breadcrumb:o}),"agent_authorize"==t.name)r();else{const e=["agent_login"];R.get("agent:token")?e.includes(t.name)?r({name:"agent_main"}):Y.state.user?r():Y.dispatch("generateRoutes").then((()=>{r()})):e.includes(t.name)?r():r({name:"agent_login"})}})),L.configure({showSpinner:!1}),U.afterEach((t=>{L.done()})),new O({router:U,Store:Y,render:t=>t(T)}).$mount("#app");export{z as L,q as U,C as a,G as b};
